(()=>{var o=e=>document.getElementById(e);var a=o("logoutBtn");a&&a.addEventListener("click",()=>{fetch("/api/logout",{method:"POST",credentials:"include"}).finally(()=>{sessionStorage.clear(),window.location.href="/index.html"})});var s=o("faq-btn"),n=o("faq-overlay"),r=o("faq-close");s&&n&&r&&(s.addEventListener("click",()=>{n.classList.remove("hidden"),r.focus()}),r.addEventListener("click",()=>{n.classList.add("hidden"),s.focus()}),n.addEventListener("click",e=>{e.target===n&&(n.classList.add("hidden"),s.focus())}),document.addEventListener("keydown",e=>{!n.classList.contains("hidden")&&(e.key==="Escape"||e.key==="Esc")&&(n.classList.add("hidden"),s.focus())}));var t=o("admin-btn");t&&fetch("/api/auth/me",{credentials:"include"}).then(e=>e.json()).then(e=>{var i;e!=null&&e.loggedIn&&((i=e.user)==null?void 0:i.role)==="admin"?(t.classList.remove("hidden"),t.setAttribute("aria-hidden","false"),t.setAttribute("tabindex","0"),t.style.display=""):t.parentNode&&t.parentNode.removeChild(t)}).catch(()=>{t.parentNode&&t.parentNode.removeChild(t)});var f=window.location.origin,c=new AbortController;window.addEventListener("beforeunload",()=>c.abort());})();
